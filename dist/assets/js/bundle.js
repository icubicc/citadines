"use strict";function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),s=i.exec(t);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}function hasChild(e,t){for(var i=t.parentNode;null!==i;){if(i==e)return!0;i=i.parentNode}return!1}function mousePos(e){var t=0,i=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:i}}function equalheight(e){function t(e){document.querySelectorAll(e).forEach(function(e){if(i=e,i.style.minHeight=0,a=i.getBoundingClientRect().top,n!==a){for(l=0;l<o.length;l++)o[l].style.minHeight=s+"px";o.length=0,n=a,s=i.offsetHeight,o.push(i)}else o.push(i),s=s<i.offsetHeight?i.offsetHeight:s;for(l=0;l<o.length;l++)o[l].style.minHeight=s+"px"})}var i=void 0,s=0,n=0,l=void 0,o=[],a=0;t(e),window.addEventListener("resize",function(){s=0,t(e)})}jQuery(document).ready(function(e){function t(){var t=e("body").find(".site-header").height();e("body");e("#main-aside .sticky-aside").css("top",t)}var i=e(".js-slider").find(".slides").flickity({imagesLoaded:!0,pageDots:!1}),s=i.data("flickity"),n=i.siblings(".slides-nav"),l=n.find(".bullet");i.on("cellSelect",function(){l.filter(".is-selected").removeClass("is-selected"),l.eq(s.selectedIndex).addClass("is-selected")}),n.on("click",".bullet",function(t){var s=e(this).index();i.flickity("select",s),t.preventDefault()}),e(".js-popup-link").magnificPopup({type:"inline",mainClass:"mfp-animation",removalDelay:200,callbacks:{open:function(){e("body").addClass("mfp-inline-toggled");var t=e(".js-project-status-slider").find(".slides").flickity({draggable:0,imagesLoaded:!0,selectedAttraction:.015,pageDots:!1,arrowShape:"M98 50.25c0 2.761-2.239 5-5 5h-72.951l22.657 22.719c1.95 1.956 1.946 5.121-.009 7.071-.976.974-2.254 1.46-3.531 1.46-1.281 0-2.564-.49-3.54-1.469l-31.166-31.25c-1.946-1.952-1.946-5.11 0-7.062l31.166-31.25c1.95-1.955 5.115-1.959 7.071-.009 1.955 1.95 1.959 5.115.009 7.071l-22.657 22.719h72.951c2.761 0 5 2.239 5 5"});e(".js-popup-link").click(function(){var i=e(this).parent(".slide").index();t.flickity("select",i),console.log(i)}),e.magnificPopup.instance.close=function(){e("body").removeClass("mfp-inline-toggled"),e.magnificPopup.proto.close.call(this)}}}}),e(".js-popup-image").magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0},zoom:{enabled:!0,duration:300}}),e(".mfp-custom-close").click(function(){e.magnificPopup.close()}),e(".mobile-nav-close").click(function(){e("body").click()}),e(".mobile-lang-select").click(function(){e(".site-lang").hasClass("is-mobile-toggled")?e(".site-lang").removeClass("is-mobile-toggled"):e(".site-lang").addClass("is-mobile-toggled")}),e(".site-container").mouseup(function(t){var i=e("#lang-list"),s=e("#head-list-dropdown");t.target.id==i.attr("id")||i.has(t.target).length||e(".site-lang").removeClass("is-mobile-toggled"),t.target.id==s.attr("id")||s.has(t.target).length||e(".head-dropdown").removeClass("is-toggled")}),function(){var t=e(".site-header"),i=t.height();e(".home-slider").css("margin-top",-i-39)}(),e(".js-home-slider").find(".slides").flickity({autoPlay:4e3,draggable:0,imagesLoaded:!0,prevNextButtons:!1,selectedAttraction:.015,wrapAround:!0});var o=e(".js-section-slider").find(".slides").flickity({draggable:0,imagesLoaded:!0,prevNextButtons:!1,selectedAttraction:.015,pageDots:!1,wrapAround:!0});e(".js-section-slider .slider-nav .left").on("click",function(){o.flickity("previous")}),e(".js-section-slider .slider-nav .right").on("click",function(){o.flickity("next")}),e(".js-section-grid-slider").find(".slides").flickity({contain:!0,groupCells:!0,imagesLoaded:!0,pageDots:!1,arrowShape:"M98 50.25c0 2.761-2.239 5-5 5h-72.951l22.657 22.719c1.95 1.956 1.946 5.121-.009 7.071-.976.974-2.254 1.46-3.531 1.46-1.281 0-2.564-.49-3.54-1.469l-31.166-31.25c-1.946-1.952-1.946-5.11 0-7.062l31.166-31.25c1.95-1.955 5.115-1.959 7.071-.009 1.955 1.95 1.959 5.115.009 7.071l-22.657 22.719h72.951c2.761 0 5 2.239 5 5"}),e(".js-section-grid-slider .slides .slide").length<=3?e(".flickity-prev-next-button").addClass("is-hidden"):e(".flickity-prev-next-button").removeClass("is-hidden"),e(".head-dropdown .toggle-open").click(function(){e(".head-dropdown").addClass("is-toggled")}),e(".head-dropdown .toggle-close").click(function(){e(".head-dropdown").removeClass("is-toggled")});var a=new Flickity(".js-event-slider .slides",{contain:!0,groupCells:!0,imagesLoaded:!0,pageDots:!1,prevNextButtons:!1});e(".event-slider-nav .left").on("click",function(){a.previous()}),e(".event-slider-nav .right").on("click",function(){a.next()}),a.on("select",function(){var t=a.selectedCell.target;t==a.cells[0].target?(e(".event-slider-nav .right").removeClass("is-disabled"),e(".event-slider-nav .left").addClass("is-disabled")):t==a.getLastCell().target?(e(".event-slider-nav .left").removeClass("is-disabled"),e(".event-slider-nav .right").addClass("is-disabled")):(e(".event-slider-nav .right").removeClass("is-disabled"),e(".event-slider-nav .left").removeClass("is-disabled"))}),e(".units-list .units-slider").each(function(t,i){var s=t+1,n=e(".units-list .units-slider.units-slider-"+s).find(".slides"),l=e(".units-slider.units-slider-"+s).find(".units-slider-bullets");n.flickity({draggable:0,imagesLoaded:!0,prevNextButtons:!1,selectedAttraction:.015,pageDots:!1,wrapAround:!0}),l.flickity({asNavFor:".units-list .units-slider.units-slider-"+s+" .slides",cellAlign:"left",draggable:0,imagesLoaded:!0,groupCells:!0,pageDots:!1,prevNextButtons:!1}),e(".units-slider-"+s+" .units-slider-nav-arrow .left").on("click",function(){n.flickity("previous")}),e(".units-slider-"+s+" .units-slider-nav-arrow .right").on("click",function(){n.flickity("next")}),n.on("select.flickity",function(){var e=n.data("flickity");e.selectedIndex+1==e.slides.length?l.flickity("select",0):l.flickity("select",e.selectedIndex+1)}),s++});var r=e(".units-detail-slider").find(".slides").flickity({draggable:0,imagesLoaded:!0,prevNextButtons:!1,selectedAttraction:.015,pageDots:!1,wrapAround:!0}),c=e(".units-detail-slider-nav").find(".units-detail-slider-bullets").flickity({asNavFor:".units-detail-slider .slides",cellAlign:"left",draggable:0,imagesLoaded:!0,groupCells:!0,pageDots:!1,prevNextButtons:!1});e(".units-detail-slider-nav .units-detail-slider-nav-arrow .left").on("click",function(){r.flickity("previous")}),e(".units-detail-slider-nav .units-detail-slider-nav-arrow .right").on("click",function(){r.flickity("next")}),r.on("select.flickity",function(){var e=r.data("flickity");e.selectedIndex+1==e.slides.length?c.flickity("select",0):c.flickity("select",e.selectedIndex+1)});var d=e(".js-popup-gallery").data("dir-arrow");e(".js-popup-gallery").magnificPopup({delegate:".link",gallery:{arrowMarkup:'<button class="popup-arrow mfp-arrow popup-arrow-%dir% mfp-arrow-%dir%"><svg class="icon" role="img"><use xlink:href="'+d+'" /></svg></button>',enabled:!0,navigateByImgClick:!0,preload:[0,1],tCounter:""},image:{tError:"Image could not be loaded."},type:"image",mainClass:"mfp-animation",closeMarkup:'<button class="popup-close mfp-close mfp-close-show">close</button>',tLoading:"Loading image..."}),e(".toggle-inquiry").on("click",function(){var t=e(".inquiry-popup"),i=e("body");return t.addClass("is-toggled"),i.css("overflow","hidden"),!1}),e(".inquiry-close").on("click",function(){var t=e(".inquiry-popup"),i=e("body");return t.removeClass("is-toggled"),i.css("overflow","auto"),!1}),e(".sidebar-selected").on("click",function(){var t=e(".sidebar-nav");t.hasClass("is-toggled")?(t.slideUp("200"),t.removeClass("is-toggled")):(t.slideDown("200"),t.addClass("is-toggled"))}),e(".facility-list").find(".slides").flickity({contain:!0,groupCells:!0,imagesLoaded:!0,prevNextButtons:!1}),e(window).on("load",function(){t(),e("#mnsry_container").masonry();var i={itemSelector:".gallery-item",filtersGroupSelector:".gallery-filter .list",selectorType:"list"};e("#mnsry_container").multipleFilterMasonry(i)}),e(window).on("resize",function(){t()})}),function(){function e(e,t,i,s,n){function l(){0===i&&(e.style.display="none")}anime.remove(e),e.style.overflow="hidden",anime({targets:e,height:i,opacity:s,duration:t,delay:n,easing:"easeOutQuad"}).finished.then(l)}function t(t,i,s){var n=void 0;t.style.display="block",t.style.height="auto",n=t.offsetHeight,t.style.height=0,e(t,i,n,1,s)}function i(t,i,s){e(t,i,0,0,s)}function s(e,t){var i=window.scrollY,s=t.dataset.scrollTarget||t.hash||"",n=document.querySelector("[id='"+s.substring(1)+"']"),l=n.getBoundingClientRect().top,o=t.dataset.scrollDuration||200,a=document.querySelector(t.dataset.scrollOffset)||"",r=a.offsetHeight||0,c={y:0};if(n){anime({targets:c,y:l+i-r,round:1,duration:o,easing:"easeOutQuad",update:function(){window.scrollTo(0,c.y)}});e.preventDefault()}}var n=document.querySelector("body"),l=document.documentElement.clientWidth;svg4everybody();for(var o=document.getElementsByClassName("js-sticky"),a=o.length-1;a>=0;a-=1)Stickyfill.add(o[a]);var r=(function(e){document.querySelectorAll(".js-scroll").forEach(function(e){return e.addEventListener("click",function(e){s(e,this)})})}(),function(e){function t(){l=document.documentElement.clientWidth,l>=1152?(s="calc(50% - "+l+"px/2)",i.forEach(function(e){e.style.marginLeft=s,e.style.marginRight=s})):i.forEach(function(e){e.style.marginLeft=null,e.style.marginRight=null})}var i=document.querySelectorAll(".js-unwrapper"),s="calc(50% - "+l+"px/2)";t(),window.addEventListener("resize",t)}(),function(){function e(e){var t=parseInt(e.dataset.sceneOffset)||0,i=e.dataset.sceneRepeat||!1,s=scrollMonitor.create(e,t);s.enterViewport(function(){this.watchItem.classList.add("in-viewport")}),i&&s.exitViewport(function(){this.watchItem.classList.remove("in-viewport")})}var t=document.querySelectorAll(".js-scene");imagesLoaded(document.querySelector("#site-container"),function(){t.forEach(function(t){return e(t)})})}(),document.querySelector("#site-header"));window.addEventListener("scroll",function(){var e=scrollMonitor.viewportTop;e>1?r.classList.add("sticky"):r.classList.remove("sticky"),e>80?r.classList.add("is-scrolled"):r.classList.remove("is-scrolled")});var c=(function(){function e(e,n){var l=document.querySelector(n.hash);if(l){var o=document.querySelectorAll('[data-tab-group="'+l.dataset.tabGroup+'"]'),a=document.querySelectorAll('.js-tab-target[data-tab-group="'+l.dataset.tabGroup+'"]'),r=n.dataset.tabType||"tab",c=n.hash.substring(1),d=n.dataset.tabDuration||200,u=n.dataset.scrollTarget;if(l.classList.contains("is-tabbed"))"collapse"===r&&(a.forEach(function(e){return i(e,d,0)}),n.classList.remove("is-tabbed"),l.classList.remove("is-tabbed"),window.history&&history.pushState&&history.replaceState("","","?"));else{var g=0;a.forEach(function(e){e.classList.contains("is-tabbed")&&(g=d/2)}),a.forEach(function(e){return i(e,g,0)}),t(l,d,0),o.forEach(function(e){return e.classList.remove("is-tabbed")}),n.classList.add("is-tabbed"),l.classList.add("is-tabbed"),u&&setTimeout(function(){s(e,n)},g),window.history&&history.pushState&&history.replaceState("","","?tab="+c)}e.preventDefault()}}var n=document.querySelectorAll(".js-tab");!function(){var e=document.querySelectorAll(".js-tab-target"),t=document.querySelectorAll("[data-tab-group]:first-child"),i=document.querySelectorAll("[data-tab-group].js-tab-target:first-child"),s=getParameterByName("tab"),n=document.querySelector('a[href="#'+s+'"]'),l=n&&document.querySelector(n.hash);if(e.forEach(function(e){return e.style.display="none"}),i.forEach(function(e){return e.style.display="block"}),t.forEach(function(e){return e.classList.add("is-tabbed")}),s&&l){var o=document.querySelectorAll('[data-tab-group="'+l.dataset.tabGroup+'"]');document.querySelectorAll('[data-tab-group="'+l.dataset.tabGroup+'"].js-tab-target').forEach(function(e){return e.style.display="none"}),o.forEach(function(e){return e.classList.remove("is-tabbed")}),n.classList.add("is-tabbed"),l.style.display="block",l.classList.add("is-tabbed")}}(),n.forEach(function(t){return t.addEventListener("click",function(t){e(t,this)})})}(),function(){function e(e){var t=new MouseEvent("click"),i=new MouseEvent("mouseenter");"toggled"===e.dataset.toggleState&&(l(t,e),l(i,e))}function l(e,l){var a=l.dataset.toggleTrigger||"click",r=l.dataset.toggleTarget||l.hash,c=document.querySelector(r),d=document.querySelector(l.dataset.toggleArea)||l,u=document.querySelector(l.dataset.toggleFocus),g=l.dataset.toggleAnimation||"slide",f=l.dataset.toggleDuration||200,m=l.dataset.toggleIteration||"infinite",p=l.dataset.scrollTarget,v=l.dataset.toggleKeyclose||!1,h=r.substring(1),y=!l.dataset.toggleTarget;if(!c)return!1;if(!l.classList.contains("js-toggle"))return!1;if("mouseenter"===e.type||"touchstart"===e.type){if("hover"===a){var b=d.querySelectorAll(".js-toggle.is-toggled");"once"===m&&l.classList.remove("js-toggle"),b.forEach(function(e){e!==l&&e.classList.remove("is-toggled")});var L=d.querySelectorAll(".is-toggled"),k=[];L.forEach(function(e){e!==l&&e!==c&&k.push(e)}),"slide"===g&&k.forEach(function(e){return i(e,f/2,0)}),k.forEach(function(e){return e.classList.remove("is-toggled")}),!1===l.classList.contains("is-toggled")&&(l.classList.add("is-toggled"),c.classList.add("is-toggled"),"slide"===g&&t(c,f,f/2)),d.addEventListener("mouseleave",function(e){o(e,l,a,c,d,g,f,h)}),n.addEventListener("click",function(e){o(e,l,a,c,d,g,f,h)}),n.addEventListener("touchend",function(e){o(e,l,a,c,d,g,f,h)})}}else"click"===e.type&&"click"===a&&("once"===m&&l.classList.remove("js-toggle"),l.classList.contains("is-toggled")||c.classList.contains("is-toggled")?hasChild(l,d)||(l.classList.remove("is-toggled"),l.classList.add("is-untoggling"),c.classList.remove("is-toggled"),c.classList.add("is-untoggling"),n.classList.add(h+"-is-untoggling"),setTimeout(function(){l.classList.remove("is-untoggling"),c.classList.remove("is-untoggling"),n.classList.remove(h+"-is-toggled",h+"-is-untoggling")},f),"slide"===g&&i(c,f/2,0)):(l.classList.add("is-toggling"),c.classList.add("is-toggling"),n.classList.add(h+"-is-toggling"),setTimeout(function(){l.classList.remove("is-toggling"),l.classList.add("is-toggled"),c.classList.remove("is-toggling"),c.classList.add("is-toggled"),n.classList.remove(h+"-is-toggling"),n.classList.add(h+"-is-toggled"),u&&u.focus()},"manual"===g?1:f),p&&s(e,l),"slide"===g&&t(c,f,0),n.addEventListener("click",function(e){o(e,l,a,c,d,g,f,h)}),n.addEventListener("touchend",function(e){o(e,l,a,c,d,g,f,h)}),"true"===v&&document.addEventListener("keydown",function(e){o(e,l,a,c,d,g,f,h)})),!0===y&&e.preventDefault())}function o(e,t,s,l,o,a,r,c){(t.classList.contains("is-toggled")||l.classList.contains("is-toggled"))&&("hover"===s&&"click"!==e.type||"click"===s&&"keydown"===e.type?(t.classList.remove("is-toggled"),t.classList.add("is-untoggling"),l.classList.remove("is-toggled"),l.classList.add("is-untoggling"),setTimeout(function(){t.classList.remove("is-untoggling"),l.classList.remove("is-untoggling")},r),"slide"===a&&i(l,r/2,0)):t===e.target||hasChild(t,e.target)||o===e.target||hasChild(o,e.target)||(t.classList.remove("is-toggled"),t.classList.add("is-untoggling"),l.classList.remove("is-toggled"),l.classList.add("is-untoggling"),n.classList.add(c+"-is-untoggling"),setTimeout(function(){t.classList.remove("is-untoggling"),l.classList.remove("is-untoggling"),n.classList.remove(c+"-is-toggled",c+"-is-untoggling")},r),"slide"===a&&i(l,r/2,0)))}var a=document.querySelectorAll(".js-toggle");document.querySelectorAll('.js-toggle[data-toggle-type="image"]');a.forEach(function(t){e(t),t.addEventListener("click",function(e){l(e,this)}),t.addEventListener("mouseenter",function(e){l(e,this)}),t.addEventListener("touchstart",function(e){l(e,this)})})}(),function(){function e(e){var t=e;t.insertAdjacentHTML("beforebegin",'<div class="js-mover-source"></div>');var i=t.previousElementSibling,s=document.querySelector(t.dataset.moverTarget),n=t.dataset.moverBreakpoint,l=document.documentElement.clientWidth;l>=n&&s.appendChild(t),window.addEventListener("resize",function(){l=document.documentElement.clientWidth,l>=n?t.parentNode!==s&&s.appendChild(t):t.parentNode!==i&&i.parentNode.insertBefore(t,i.nextSibling)})}document.querySelectorAll(".js-mover").forEach(function(t){return e(t)})}(),function(){document.querySelectorAll(".js-form-file").forEach(function(e){function t(e,t){var s=e.files,l="",o=0,a=!0,r=!1,c=void 0;try{for(var d,u=s[Symbol.iterator]();!(a=(d=u.next()).done);a=!0)o+=d.value.size}catch(e){r=!0,c=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw c}}o=Math.round(o/1024/1024*100)/100,e.files&&e.files.length>1?l=(e.getAttribute("data-multiple-placeholder")||"").replace("{count}",e.files.length)+" ("+o+"MB)":t.target.value&&(l=t.target.value.split("\\").pop()+" ("+o+"MB)"),l?(n.querySelector(".placeholder").innerHTML=l,n.classList.add("has-placeholder")):i(t)}function i(e){s.value="",n.innerHTML=o,n.classList.remove("has-placeholder"),e.preventDefault()}var s=e.querySelector(".form-file-input"),n=e.querySelector(".form-file-label"),l=e.querySelector(".form-file-remove"),o=n.innerHTML;s.addEventListener("change",function(e){t(this,e)}),l&&l.addEventListener("click",function(e){i(e)})})}(),document.querySelector(".grid-connection"));c.querySelectorAll(".grid-connection-box").forEach(function(e){var t=e.dataset.imageFull,i=c.querySelectorAll(".bg");e.addEventListener("mouseenter",function(){i.forEach(function(e){e.style.backgroundImage="url("+t+")"})})})}();